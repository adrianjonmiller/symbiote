{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./docs/app.js","webpack:///./docs/button.html","webpack:///./docs/plugin.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///(webpack)/buildin/global.js","webpack:///./plugins/test.js","webpack:///./src/data.js","webpack:///./src/global.js","webpack:///./src/index.js","webpack:///./src/model.js","webpack:///./src/observe.js","webpack:///./src/textNode.js","webpack:///./src/utils.js"],"names":["request","body","cb","fetch","method","headers","JSON","stringify","then","res","json","data","catch","err","Symbiote","methods","on","item","state","setTimeout","states","start","href","hover","loading","style","color","success","$event","emit","class","extend","something","SUBMIT","backgroundColor","outline","padding","borderRadius","lineHeight","border","baseclass","text","REJECT","RESOLVE","currentClass","console","log","error","name","sex","shower","watch","newVal","oldVal","plugins","Plugin2","items","query","allAbsolutes","Plugin","test","attach","model","somethingX","Data","val","watcher","utils","debounce","head","vdom","Symbiotic","config","global","el","$scope","getScope","findHead","document","readyState","addEventListener","t0","performance","now","vnom","Model","init","t1","window","undefined","$node","$styleNode","createStyleNode","events","firstChild","lastChild","next","prev","tagName","toLowerCase","id","getAttribute","uid","show","textNodes","width","offsetWidth","height","offsetHeight","prevState","watchers","nodeType","bind","append","prepend","find","findParent","render","setAttribute","template","getTemplateNode","Object","defineProperty","get","set","removeProperty","removeAttribute","display","parent","update","updateStyles","assign","value","check","attributes","loop","attribute","attrName","dashToCamelCase","nodeName","$attrValue","nodeValue","camelCaseToDash","childNodes","$children","$child","child","getTextNode","$textNode","push","TextNode","list","split","key","cloned","vals","nodes","updateTextNodes","ResizeObserver","entries","observer","entry","contentRect","left","top","observe","event","useCapture","e","apply","node","appendChild","payload","bubbles","i","length","fn","ctx","Proxy","configurable","result","dig","vnode","indexOf","Plugins","args","refs","match","range","createRange","ref","replace","trim","stringRef","frag","createContextualFragment","children","values","innerHTML","styleString","prop","parentNode","k","$clonedNode","content","cloneNode","forEach","textNode","found","object","context","handler","target","property","receiver","Reflect","descriptor","call","deleteProperty","originalContent","textContent","keys","variable","mustacheRegex","prefix","myStr","myString","g","toUpperCase","styleNode","createElement","type","func","frame","executedFunction","arguments","cancelAnimationFrame","requestAnimationFrame","isNode","o","Node","reduce","attributeValue","charAt","substring","stack","querySelector"],"mappings":"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,MAAL,CAAY;AACRyB,uBAAO;AADC,aAAZ;;AAIA,gBAAMvD,OAAO;AACTwD;AADS,aAAb;;AAYAzD,oBAAQC,IAAR,EAAc,UAACY,GAAD,EAAMJ,GAAN,EAAc;AACxB,oBAAII,GAAJ,EAAS;AACL,0BAAMA,GAAN;AACH;;AAEDgC,wBAAQC,GAAR,CAAYrC,GAAZ;;AAEA,uBAAK+C,KAAL,GAAa/C,IAAIiD,YAAjB;AACH,aARD;AASH;AAnMI,KADA;AAsMTJ,aAAS,CAACK,cAAD,CAtMA;AAuMThD,UAAM;AACFqC,cAAM,WADJ;AAEFhB,mBAAW;AACP4B,kBAAM;AADC;AAFT;AAvMG,CAAb,EA6MGC,MA7MH,G;;;;;;;;;;;ACxBA,2C;;;;;;;;;;;;;;;;;;;;aCCE,gBAAaC,KAAb,EAAoB;AAClB;;AADkB;AAEnB,C;;;;;;;;;;;;;;;;ACHH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA,iCAAiC,YAAY;AAC7C,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gCAAgC,6BAA6B,EAAE,aAAa;AAC5G,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,mCAAmC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kCAAkC,iEAAiE;AACnG;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8CAA8C;AAC9C,CAAC;AACD;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA,eAAe,yBAAyB;AACxC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./docs/app.js\");\n","import Symbiote from '../src/index.js';\nimport Button from './button.html';\nimport Plugin from 'Plugins/test'\nimport Plugin2 from './plugin';\n\nfunction request(body, cb) {\n    fetch('https://graphql.datocms.com/', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'Authorization': 'Bearer ' + '30d8c651eebea64a994dcba84ddd9d',\n        },\n        body: JSON.stringify(body),\n    }).then(res => {\n        return res.json()\n    }).then((res) => {\n        cb(null, res.data)\n    }).catch((err) => {\n        cb(err)\n    });\n}\n\n\nnew Symbiote({\n    methods: {\n        '.test': function () {\n            this.on('UPLOAD', (item) => {\n                item.state = 'loading';\n                setTimeout(() => {\n                    item.state = 'success'\n                }, 3000)\n            })\n        },\n        '.link-test': function () {\n            this.states = {\n                start: {\n                    href: (href) => {\n                        return href\n                    },\n                    on: {\n                        hover: {\n                            href: (href) => {\n                                return href + '/directory' \n                            }\n                        }\n                    }\n                },\n                loading: {\n                    style: {\n                        color: 'orange'\n                    }\n                },\n                success: {\n                    style: {\n                        color: 'green'\n                    }\n                }\n            }\n\n            this.$event('click', e => {\n                this.emit('UPLOAD')\n            })\n        },\n        '.js-test': function () {\n            this.class = 'test'\n        },\n        'body': function () {   \n            this.extend({\n                something: function () {\n                    return 'test'\n                }\n            });\n        },\n        '.event-test': function () {\n            this.states = {\n                start: {\n                    on: {\n                        SUBMIT: 'loading',\n                        hover: {\n                            style: {\n                                backgroundColor: 'yellow',\n                                color: 'black'\n                            }\n                        }\n                    },\n                    style: {\n                        backgroundColor: 'blue',\n                        color: 'white',\n                        outline: 'none',\n                        padding: '.5rem 1rem',\n                        borderRadius: '.5rem',\n                        lineHeight: '1em',\n                        border: 'none'\n                    },\n                    class: (baseclass) => {\n                        return 'ready ' + baseclass\n                    },\n                    text: 'Click me',\n                },\n                loading: {\n                    on: {\n                        REJECT: 'error',\n                        RESOLVE: 'success'\n                    },\n                    style: {\n                        backgroundColor: 'gray'\n                    },\n                    class: (currentClass) => {\n                        console.log(currentClass)\n                        return 'loading ' + currentClass\n                    },\n                    text: 'Clicked'\n                },\n                error: {\n                    on: {\n                        SUBMIT: 'loading'\n                    }\n                },\n                success: {\n                    on: {\n                        SUBMIT: 'start'\n                    },\n                    style: {\n                        backgroundColor: 'green'\n                    },\n                    text: \"Success!\"\n                }\n            };\n\n            this.$event('click', e => {\n                switch (this.state) {\n                    case 'start':\n                        this.emit('SUBMIT')\n                    break;\n                    \n                    case 'loading':\n                        this.emit(\"RESOLVE\")\n                    break;\n\n                    case 'success':\n                        this.emit('SUBMIT')\n                    break;\n                }                \n            })\n        },\n        '#main': function () {\n            this.success = 'awesome'\n            this.success = 'awesome1'\n            this.success = 'awesome2'\n            this.success = 'awesome3'\n        },\n        '#todo': function () {\n            var data = [\n                {\n                    name: 'Bill',\n                    sex: \"Male\",\n                    shower: 'No'\n                },{\n                    name: 'Bill',\n                    sex: \"Male\",\n                    shower: 'No'\n                }\n            ]\n\n            this.extend({\n                name: 'Bill'\n            })\n\n            this.watch({\n                name: function (newVal, oldVal) {\n                    console.log(newVal, oldVal)\n                }\n            })\n\n            this.name = 'test'\n\n            console.log(this.name)\n\n            var item = {\n                name: 'Bill',\n                sex: \"Male\",\n                shower: 'No'\n            };\n\n            this.plugins([Plugin2]);\n\n            this.extend({\n                data: 'data'\n            })\n        },\n        '.js-image': function () {\n            return this\n        },\n        '#test': function () {\n            this.extend({\n                items: []\n            })\n\n            const body = {\n                query: `{\n                    allAbsolutes() {\n                        className\n                        description\n                        thumbnail {\n                        url\n                        }\n                    }\n                    }`\n                };\n\n            request(body, (err, res) => {\n                if (err) {\n                    throw err\n                }\n\n                console.log(res)\n\n                this.items = res.allAbsolutes\n            })\n        }\n    },\n    plugins: [Plugin],\n    data: {\n        name: 'some data',\n        something: {\n            test: 'awesome'\n        }\n    }\n}).attach();","module.exports = \"<button>Button</button>\";","export default class {\n  constructor (model) {\n    // console.log(model);\n  }\n}","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export default class {\n  constructor (model) {\n    model.somethingX = 'this';\n  }\n}","import utils from './utils'\n\nexport default class Data {\n  constructor (data, cb) {\n    this.method = null;\n    this.data = data;\n    this.cb = cb;\n\n    if (typeof data === 'function') {\n      this.method = data\n      this.data = data()\n    }\n  }\n\n  get () {\n    return this.data\n  }\n\n  set (val) {\n    let newVal;\n    let oldVal = this.data;\n    let watcher = this.cb();\n\n    if (this.method) {\n      newVal = this.method(val)\n    } else {\n      newVal = val\n    }\n\n    if (newVal === oldVal) {\n      return\n    }\n\n    this.data = newVal\n\n    if (watcher) {\n      (utils.debounce(() => {\n        watcher(newVal, oldVal)\n      }))();\n    }\n  }\n}\n","'use strict';\n\nexport default {\n  plugins: null,\n  head: null,\n  vdom: {}\n};","'use strict';\n\nimport Model from './model';\nimport utils from './utils';\nimport global from './global';\n\nexport default class Symbiotic {\n    constructor (config) {\n        global.data = config.data || {};\n        global.methods = config.methods || {};\n        global.plugins = config.plugins || [];\n    }\n\n    attach (el) {\n        const $scope = utils.getScope(el);\n        global.head = utils.findHead($scope);\n\n        ;((cb) => {\n            if (document.readyState !== 'loading') {\n                cb();\n            } else {\n                document.addEventListener('DOMContentLoaded', () => {\n                    cb();   \n                });\n            }\n        })(() => {\n            let t0 = performance.now();\n            this.vnom = new Model($scope, global.data);\n\n            utils.init(this.vnom);\n\n            let t1 = performance.now();\n            console.log('Symbiote attached in ' + (t1 - t0) + ' milliseconds.');\n        });\n    }\n}\n\nif (window && window.Symbiotic === undefined) {\n    window.Symbiotic = Symbiotic;\n}","'use strict';\n\nimport utils from './utils';\nimport global from './global';\nimport Observer from './observe';\nimport Data from './data';\nimport TextNode from './textNode';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nexport default class Model {\n    constructor ($node) {\n        this.$styleNode = utils.createStyleNode();\n        this.events = {};\n        this.style = {};\n        this.firstChild = null;\n        this.lastChild = null;\n        this.next = null;\n        this.prev = null;\n        this.$node = $node;\n        this.tagName = $node.tagName.toLowerCase();\n        this.id = $node.getAttribute('id') || utils.uid();\n        this.show = true;\n        this.textNodes = [];\n        this.width = $node.offsetWidth;\n        this.height = $node.offsetHeight;\n        this.state = 'start';\n        this.hover = false;\n        this.prevState = '';\n        this.states = {};\n        this.watchers = {};\n\n        global.vdom[this.id] = {\n            tagName: this.tagName,\n            id: this.id,\n            show: this.show,\n            nodeType: $node.nodeType,\n        }\n\n        this.model = {\n            $node: $node,\n            $event: this.$event.bind(this),\n            textNodes: this.textNodes,\n            on: this.on.bind(this),\n            emit: this.emit.bind(this),\n            append: this.append.bind(this),\n            prepend: this.prepend.bind(this),\n            find: this.find.bind(this),\n            findParent: this.findParent.bind(this),\n            render: this.render.bind(this),\n            plugins: this.plugins.bind(this),\n            extend: this.extend.bind(this),\n            watch: this.watch.bind(this)\n        };\n\n        if (this.id !== $node.getAttribute('id')) {\n            $node.setAttribute('id', this.id);\n        }\n\n        if (this.tagName === 'template') {\n            this.template = utils.getTemplateNode($node);\n            this.model.template = this.template;\n        }\n\n        Object.defineProperty(this.model, 'id', {\n            get: () => {\n                return this.id;\n            }\n        });\n\n        Object.defineProperty(this.model, 'tagName', {\n            get: () => {\n                return this.tagName;\n            }\n        });\n\n        Object.defineProperty(this.model, 'show', {\n            get: () => {\n                return this.show;\n            },\n            set: (val) => {\n                if (val) {\n                    if ($node.style.removeProperty) {\n                        $node.style.removeProperty('display');\n                    } else {\n                        $node.style.removeAttribute('display');\n                    }\n                } else {\n                    $node.style.display = 'none'\n                }\n                this.show = val;\n            }\n        });\n\n        Object.defineProperty(this.model, 'prev', {\n            get: () => {\n                return this.prev;\n            },\n            set: (val) => {\n                this.prev = val;\n                return this.prev;\n            }\n        });\n\n        Object.defineProperty(this.model, 'next', {\n            get: () => {\n                return this.next;\n            },\n            set: (val) => {\n                this.next = val;\n                return this.next;\n            }\n        });\n\n        Object.defineProperty(this.model, 'child', {\n            get: () => {\n                return this.firstChild;\n            },\n            set: (val) => {\n                this.firstChild = val;\n                return this.firstChild;\n            }\n        });\n\n        Object.defineProperty(this.model, 'parent', {\n            get: () => {\n                return this.parent;\n            },\n            set: (val) => {\n                this.parent = val\n                return this.parent;\n            }\n        });\n\n        Object.defineProperty(this.model, 'states', {\n            get: () => {\n                return this.states\n            },\n            set: states => {\n                this.states = states\n                this.update()\n            }\n        })\n\n        Object.defineProperty(this.model, 'state', {\n            get: () => {\n                return this.state\n            },\n            set: state => {\n                if (this.state !== state) {\n                    this.state = state\n                    this.update()\n                }\n            }\n        })\n\n        Object.defineProperty(this.model, 'style', {\n            get: () => {\n                this.updateStyles(this.style, this.$styleNode, this.id);\n                return this.style;\n            },\n            set: (val) => {\n                Object.assign(this.style, val);\n                this.updateStyles(this.style, this.$styleNode, this.id);\n                return this.style;\n            }\n        });\n\n        if ($node.tagName === 'input') {\n            Object.defineProperty(this.model, 'value', {\n                get: () => {\n                    return this.$node.value\n                },\n                set: (val) => {\n                    this.$node.value = val;\n                }\n            })\n        }\n\n        this.$node.addEventListener('mouseover', () => {\n            this.update('hover')\n        })\n\n        this.$node.addEventListener('mouseout', () => {\n            this.update()\n        })\n\n        utils.check($node.attributes, (attributes) => utils.loop(attributes, (attribute) => {\n            let attrName = utils.dashToCamelCase(attribute.nodeName);\n            let $attrValue = attribute.nodeValue;\n    \n            if (!this[attrName] && attrName !== 'id' && attrName !== 'for') {\n                this[attrName] = $attrValue;\n                global.vdom[this.id][attrName] = $attrValue;\n\n                Object.defineProperty(this.model, attrName, {\n                    get: () => {\n                        return this[attrName]\n                    },\n                    set: (val) => {\n                        if (this[attrName] !== val) {\n                            this[attrName] = val;\n\n                        ;(utils.debounce(($node) => {\n                            $node.setAttribute(utils.camelCaseToDash(attrName), this[attrName]);\n                        }))($node);\n                        }\n                    }\n                });\n            }\n        }));\n\n        utils.check($node.childNodes, ($children) => utils.loop($children, ($child) => {\n            if ($child.nodeType === 1) {\n                let child = new Model($child);\n                child.parent = this.model;\n    \n                if (!this.lastChild) {\n                    this.firstChild = child;\n                    this.model.child = child;\n                    global.vdom[this.id].child = child.id;\n                } else {\n                    this.lastChild.next = child;\n                    child.prev = this.lastChild;\n                    global.vdom[this.lastChild.id].next = child.id;\n                }\n                this.lastChild = child;\n            }\n\n            utils.getTextNode($child, ($textNode) => {\n                this.textNodes.push(new TextNode($textNode, this.model));\n            });            \n        }));\n\n        if ($node.getAttribute('for')) {\n            var list = $node.getAttribute('for').split(' in ');\n            var key = list[0];\n            var data = list[1];\n            this.cloned = {};\n\n            Object.defineProperty(this.model, data, {\n                set: (vals) => {\n                    this[data] = vals;\n                    utils.check(vals, (nodes) => {\n                        this.updateTextNodes(nodes, key)\n                    })\n                },\n                get: () => {\n                    utils.check(this[data], (nodes) => {\n                        this.updateTextNodes(nodes, key)\n                    })\n                    \n                    return this[data]\n                }\n            })\n        }\n\n        new ResizeObserver((entries, observer) => {\n            for (const entry of entries) {\n                const { left, top, width, height } = entry.contentRect;\n                this.width = width;\n                this.height = height;\n                this.top = top;\n                this.left = left;\n            }\n        }).observe(this.$node);\n\n        if (global.plugins !== null) {\n            this.plugins(global.plugins);\n        }\n                \n        return this.model;\n    }\n\n    $event(event, cb, useCapture) {\n        useCapture = useCapture || false;\n        this.$node.addEventListener(event, (e) => cb.apply(this.model, [e]), useCapture)\n    }\n\n    append ($node, methods) {\n        let node = new Model($node);\n        node.parent = this.model;\n\n        if (!this.firstChild) {\n            this.firstChild = node;\n        }\n\n        if (this.lastChild) {\n            node.prev = this.lastChild;\n            this.lastChild.next = node;\n        }\n        \n        this.lastChild = node;\n\n        (utils.debounce(() => {\n            this.$node.appendChild(node.$node);\n            utils.init(node, methods);\n        }))();\n\n        return node;\n    }\n\n    emit (event, payload) {\n        let bubbles = true;\n        payload = payload || this.model;\n\n        if (this.events === undefined) {\n            this.events = {};\n        }\n\n        if (this.events[event]) {\n            for (let i = 0; i < this.events[event].length; i++) {\n                let e = this.events[event][i];\n\n                e.fn(payload);\n                bubbles = !e.bubbles ? e.bubbles : bubbles;\n            }\n        }\n\n        this.update(event)\n\n        if (bubbles && this.parent) {\n            this.parent.emit(event, payload);\n        }        \n    }\n\n    extend (data) {\n        const ctx = this\n        ; (function loop(model, data) {\n            utils.check(data, (data) => utils.loop(data, (value, key) => {\n                if (model[key] !== undefined) {\n                    throw 'Key on model cannot be redefined';\n                }\n\n                let Proxy = new Data(value, () => {\n                    return ctx.watchers[key] || null\n                });\n\n                if (typeof value === 'object') {\n                    model[key] = model[key] || {};\n                    loop(model[key], value)\n                } else {\n                    Object.defineProperty(model, key, {\n                        get: () => {\n                            return Proxy.get();\n                        },\n                        set: (val) => {\n                            Proxy.set(val)\n                        },\n                        configurable: true\n                    })\n                }\n            }))\n        })(this.model, data);\n    }\n\n    find (attrName, value, cb) {\n        let result = [];\n\n        attrName = utils.dashToCamelCase(attrName);\n\n        (function dig(vnode) {\n            if (vnode) {\n                if (vnode[attrName] !== undefined && vnode[attrName].indexOf(value) > -1) {\n                    if (typeof cb === 'function') {\n                        cb(vnode);\n                    }\n\n                    result.push(vnode);\n                }\n\n                if (vnode.child) {\n                    dig(vnode.child);\n                }\n\n                if (vnode.next) {\n                    dig(vnode.next);\n                }\n            }\n\n        })(this.firstChild);\n\n        return result;\n    }\n\n    findParent (attrName, value, cb) {\n        let result = [];\n        attrName = utils.dashToCamelCase(attrName);\n\n        (function dig(vnode) {\n            if (vnode) {\n                if (vnode[attrName] !== undefined && vnode[attrName].indexOf(value) > -1) {\n                    if (typeof cb === 'function') {\n                        cb(vnode);\n                    }\n\n                    result.push(vnode);\n                }\n\n                if (vnode.parent) {\n                    dig(vnode.parent);\n                }\n            }\n\n        })(this.firstChild);\n\n        return result;\n    }\n\n    on (event, fn) {\n        event = event.split('.');\n        var name = event[0];\n        var bubbles = event[1] !== 'stop';\n\n        if (this.events === undefined) {\n            this.events = {};\n        }\n\n        if (this.events[name] === undefined) {\n            this.events[name] = [];\n        }\n\n        this.events[name].push( {fn: fn, bubbles: bubbles} );\n    }\n\n    plugins(Plugins) {\n        if (!Plugins.length > 0) {\n            return null\n        }\n\n        utils.check(Plugins, () => utils.loop(Plugins, (Plugin) => {\n            new Plugin(this.model)\n        }));\n    }\n\n    prepend($node, methods) {\n        let node = new Model($node);\n        node.parent = this.model;\n\n        if (this.firstChild) {\n            node.next = this.firstChild;\n            this.firstChild.prev = node;\n        }\n\n        this.firstChild = node;\n\n        (utils.debounce(() => {\n            this.$node.prepend(node.$node);\n            utils.init(node, methods);\n        }))();\n\n        return node;\n    }\n\n    render(args) {\n        if (!args.template && this.tagName !== 'template') {\n            return\n        }\n\n        let template = args.template || this.template;\n        let data = args.data || {};\n        let methods = args.methods || global.methods;\n        let refs = template.match(/{{{?(#[a-z ]+ )?[a-z ]+.[a-z ]*}?}}/g);\n        let range = document.createRange();\n\n        utils.check(refs, (refs) => utils.loop(refs, (ref) => {\n            var key = ref.replace(/{{|}}/g, '').trim();\n            var value = utils.stringRef(key, data);\n\n            template = template.replace(ref, value);\n        }))\n\n        let frag = range.createContextualFragment(template);\n\n        return utils.check(frag.children, ($children) => utils.loop($children, ($child) => {\n            if (this.tagName === 'template') {\n                if (this.parent !== undefined) {\n                    return this.parent.append($child, methods)\n                }\n            } else {\n                return this.append($child, methods);\n            }\n\n        }));\n    }\n\n    update (event) {\n        event = event || null;\n        let state = null;\n        let next  = null;\n        let ctx = this;\n\n        if (!(this.state in this.states)) {\n            return\n        }\n\n        state = this.states[this.state]\n\n        if (!event) {\n            update(state)\n            return\n        }\n\n        if (state.on === undefined) {\n            return\n        }\n\n        if (!(event in state.on)) {\n            return\n        }\n\n        if (typeof state.on[event] === 'string') {\n            this.state = state.on[event]\n            next = this.states[this.state]\n        }\n\n        if (typeof state.on[event] === 'object') {\n            next = state.on[event]\n        }\n\n        update(next)\n\n        function update (values) {\n            utils.loop(values, (value, key) => {\n                if (key !== 'on') {\n                    if (typeof value === 'function') {\n                        ctx.model[key] = value(global.vdom[ctx.id][key])\n                    } else {\n                        ctx.model[key] = value\n                    }\n                }\n            })\n        }\n    }\n\n    updateStyles() {\n        (utils.debounce(() => {\n            if (!utils.check(this.style)) {\n                this.$styleNode.innerHTML = ''\n                return\n            }\n\n            var styleString = `#${this.id}{`;\n\n            utils.loop(this.style, function (value, prop) {\n                styleString += `${utils.camelCaseToDash(prop)}:${value};`;\n            })\n\n            styleString += '}';\n\n            if (this.$styleNode.parentNode === null) {\n                global.head.appendChild(this.$styleNode);\n            }\n\n            this.$styleNode.innerHTML = styleString;\n        }))();\n    }\n\n    updateTextNodes (vals, key) {\n        (utils.debounce(() => {\n            utils.loop(vals, (val, k) => {\n                if (this.cloned[k] === undefined) {\n                    let $clonedNode = this.$node.content.children[0].cloneNode(true);\n                    this.cloned[k] = this.parent.append($clonedNode);\n                }\n\n                if (this.cloned[k].data && this.cloned[k].data === key) {\n                    this.cloned[k][key] = val\n\n                    this.cloned[k].textNodes.forEach((textNode) => {\n                        textNode.update();\n                    })\n                }\n\n                this.cloned[k].find('data', key, (found) => {\n                    found[key] = val\n\n                    found.textNodes.forEach((textNode) => {\n                        textNode.update()\n                    })\n                })\n            })\n        }))();\n    }\n\n    watch(watchers) {\n        Object.assign(this.watchers, watchers);\n    }\n}","'use strict';\n\nexport default class {\n\tconstructor (object, watchers) {\n\t\tconst context = this;\n\t\tcontext.watchers = watchers || [];\n\n\t\tconst handler = {\n\t\t\tget(target, property, receiver) {\n\t\t\t\ttry {\n\t\t\t\t\treturn new Proxy(target[property], handler);\n\t\t\t\t} catch (err) {\n\t\t\t\t\treturn Reflect.get(target, property, receiver);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdefineProperty(target, property, descriptor) {\n\t\t\t\tcontext.watchers.forEach(watcher => {\n\t\t\t\t\twatcher.call(null, target, property, descriptor)\n\t\t\t\t});\n\t\t\t\treturn Reflect.defineProperty(target, property, descriptor);\n\t\t\t},\n\t\t\tdeleteProperty(target, property) {\n\t\t\t\tcontext.watchers.forEach(watcher => {\n\t\t\t\t\twatcher.call(null, target, property, descriptor)\n\t\t\t\t});\n\t\t\t\treturn Reflect.deleteProperty(target, property);\n\t\t\t}\n\t\t};\n\t\n\t\treturn new Proxy(object, handler);\n\t}\n}\t","import utils from './utils';\n\nexport default class {\n  constructor ($node, model) {\n    this.$node = $node;\n    this.originalContent = $node.textContent;\n    this.keys = [];\n    this.model = model;\n    this.data = {};\n\n    this.replace((variable) => {\n      Object.defineProperty(model, variable, {\n        get: () => {\n          return this.data[variable]\n        },\n        set: (val) => {\n          this.data[variable] = val\n          ;(utils.debounce(() => {\n            this.update()\n          }))();\n        }\n      })\n      this.keys.push(variable);\n      return utils.stringRef(variable, model);\n    })  \n  }\n\n  replace (cb) {\n    this.$node.textContent = this.originalContent.replace(utils.mustacheRegex, (match, variable) => {\n      return cb(variable);\n    });\n  }\n\n  update () {\n    this.replace((variable) => {\n      return utils.stringRef(variable, this.model);\n    })\n  }\n}","'use strict';\n\nimport Model from './model';\nimport global from './global';\n\nexport default {\n    id: 0,\n    prefix: 'vnom-',\n    mustacheRegex: /\\$\\{\\s?(\\w.+)\\s?\\}/g,\n    camelCaseToDash: function (myStr) {\n        return myStr.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    },\n    dashToCamelCase: function (myString) {\n        return myString.replace(/-([a-z])/g, function (g) {\n            return g[1].toUpperCase();\n        });\n    },\n    createStyleNode: function () {\n        let styleNode = document.createElement('style');\n\n        styleNode.type = 'text/css';\n\n        return styleNode;\n    },\n    uid: function () {\n        return this.prefix + this.id++;\n    },\n    debounce: function (func) {\n        var frame = null;\n\n        return function executedFunction() {\n            let context = this;\n            let args = arguments;\n\n            if (frame !== null) window.cancelAnimationFrame(frame);\n\n            frame = window.requestAnimationFrame(() => {\n                func.apply(context, args);\n            })\n        }\n    },\n    isNode: function (o) {\n        return typeof Node === \"object\" ? o instanceof Node : o && typeof o === \"object\" && typeof o.nodeType === \"number\" && typeof o.nodeName===\"string\"\n    },\n    check (item, cb) {\n        if (item === null) {\n            return false\n        }\n        \n        if (item === undefined) {\n            return false\n        }\n\n        switch (typeof item) {\n            case 'array':\n                if (item.length === 0) {\n                    return false\n                }\n                break;\n            case 'object':\n                if (!this.isNode(item)) {\n                    if (Object.keys(item).length === 0) {\n                        return false\n                    }\n                }\n                break;\n            case 'string':\n                if (item === '') {\n                    return false\n                }\n                break;\n        }\n\n        if (typeof cb === 'function') {\n            return cb.apply(null, [item]);\n        }\n\n        return true;\n    },\n    loop (object, cb) {\n        let length = object.length;\n        let result = [];\n\n        if (length > 0) {\n            for (let i=0; i < length; i++) {\n                let res = cb.apply(null, [object[i], i, length]);\n                if (res) {\n                    result.push(res)\n                }\n            }\n        } else {\n            for (let key in object) {\n                let res = cb.apply(null, [object[key], key]);\n                if (res) {\n                    result.push();\n                }\n            }\n        }\n        return result;\n    },\n    getTextNode ($child, cb) {\n        if ($child.nodeType === 3) {\n            if ($child.nodeValue.trim().length > 0 ) {\n                return cb($child)\n            }\n        }\n    },\n    getTemplateNode ($node, cb) {\n        if ($node.tagName === 'TEMPLATE') {\n            if (typeof cb === 'function') {\n                return cb.apply(null, [$node.innerHTML]);\n            }\n            return $node.innerHTML;\n        }\n     },\n    stringRef (ref, object) {\n        return ref.split('.').reduce((object,i) => {\n            if (object[i]) {\n                return object[i]\n            } else {\n                return ''\n            }\n        }, object);\n    },\n    init (vnom, methods) {\n        methods = methods || global.methods;\n\n        if (typeof methods === 'function') {\n            methods.apply(vnom);\n            return\n        }\n\n        for (let method in methods) {\n            let attribute = '';\n            let attributeValue = '';\n\n            switch (method.charAt(0)) {\n                case '.':\n                    attribute = 'class';\n                    attributeValue = method.substring(1);\n                    break;\n                case '#':\n                    attribute = 'id';\n                    attributeValue = method.substring(1);\n                    break;\n                default:\n                    attribute = 'tagName'\n                    attributeValue = method;\n            }\n\n            if (vnom[attribute]) {\n                if (vnom[attribute].split(' ').indexOf(attributeValue) > -1) {\n\n                    if (!vnom.methods) {\n                        vnom.methods = {};\n                    }\n\n                    if (vnom.methods[method] === undefined) {\n                        vnom.methods[method] = methods[method].bind(vnom);\n                    }\n                }\n            }\n        }\n\n        if (vnom.child) {\n            this.init(vnom.child, methods)\n        }\n\n        if (vnom.next) {\n            this.init(vnom.next, methods)\n        }\n\n        for (let method in vnom.methods) {\n            try {\n                (vnom.methods[method])();\n            } catch (error) {\n                console.error(error.stack);\n            }\n        }\n    },\n    getScope (el) {\n        if (el === undefined) {\n            return document.body || document.querySelector('body');\n        }\n    \n        switch (typeof el) {\n            case 'string':\n                return document.querySelector(el);\n            case 'object':\n                return el;            \n        }\n    },\n    findHead ($node) {     \n        if ($node.tagName === 'HTML') {\n            return $node.querySelector('head')\n        } else {\n            return this.findHead($node.parentNode);\n        }\n    }\n};"],"sourceRoot":""}