{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./node_modules/template-polyfill/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/data.js","webpack:///./src/descriptor.js","webpack:///./src/global.js","webpack:///./src/index.js","webpack:///./src/model.js","webpack:///./src/observe.js","webpack:///./src/textNode.js","webpack:///./src/utils.js","webpack:///./src/vnode.js","webpack:///./src/vnom.js","webpack:///./src/vstyle.js","webpack:///./src/vtext.js"],"names":["Data","data","cb","watchers","val","newVal","oldVal","watcher","utils","nextFrame","Descriptor","value","setable","undefined","computer","get","apply","set","update","addWatcher","fn","push","writeable","enumerable","configurable","forEach","plugins","head","vdom","Symbiotic","config","global","methods","el","$scope","getScope","findHead","document","createElement","boostrapTemplates","readyState","addEventListener","t0","performance","now","vnode","Vnode","class","init","t1","console","log","polyfillStyle","createStyleNode","polyfillScript","innerText","innerHTML","appendChild","window","Model","$node","$styleNode","events","style","firstChild","lastChild","next","prev","cloned","id","getAttribute","uid","show","textNodes","width","offsetWidth","height","offsetHeight","state","hover","prevState","states","tagName","nodeType","model","$event","bind","on","emit","append","prepend","find","findParent","extend","watch","setAttribute","Object","defineProperty","toLowerCase","$template","getTemplateNode","removeProperty","removeAttribute","display","parent","updateState","updateStyles","assign","check","attributes","loop","attribute","attrName","dashToCamelCase","nodeName","$attrValue","nodeValue","indexOf","replace","mustacheRegex","match","variable","refs","split","obj","store","index","key","length","debounce","camelCaseToDash","childNodes","$children","$child","child","getTextNode","$textNode","TextNode","list","vals","cloneNodes","ResizeObserver","entries","observer","entry","contentRect","left","top","observe","pos","p","event","useCapture","e","node","k","$cloned","children","cloneNode","textNode","v","payload","bubbles","i","ctx","Proxy","result","dig","includes","name","Plugins","Plugin","args","template","range","createRange","ref","trim","stringRef","frag","createContextualFragment","_update","values","styleString","prop","parentNode","$clonedNode","content","found","object","context","handler","target","property","receiver","err","Reflect","descriptor","call","deleteProperty","originalContent","textContent","prefix","myStr","myString","g","toUpperCase","styleNode","type","func","frame","executedFunction","arguments","cancelAnimationFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","isNode","o","Node","item","keys","res","reduce","vnom","method","attributeValue","charAt","substring","error","stack","body","querySelector","Vnom","_vnom","Utils","defineProperties","props","Vstyle","classList","attrValue","Vtext","styles","updateStyleNode","Global","$originalContent","map","array"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA,iCAAiC,YAAY;AAC7C,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gCAAgC,6BAA6B,EAAE,aAAa;AAC5G,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,mCAAmC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kCAAkC,iEAAiE;AACnG;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8CAA8C;AAC9C,CAAC;AACD;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA,eAAe,yBAAyB;AACxC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","'use strict';\n\nfunction templatePolyfill() {\n  if ('content' in document.createElement('template')) {\n    return false;\n  }\n\n  var templates = document.getElementsByTagName('template');\n  var plateLen = templates.length;\n\n  for (var x = 0; x < plateLen; ++x) {\n    var template = templates[x];\n    var content = template.childNodes;\n    var fragment = document.createDocumentFragment();\n\n    while (content[0]) {\n      fragment.appendChild(content[0]);\n    }\n\n    template.content = fragment;\n  }\n}\n\nmodule.exports = templatePolyfill;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import utils from './utils'\n\nexport default class Data {\n  constructor (data, cb) {\n    this.data = data;\n    this.cb = cb;\n    this.watchers = [];\n  }\n\n  get () {\n    return this.data\n  }\n\n  set (val) {\n    let newVal;\n    let oldVal = this.data;\n    let watcher = this.cb();\n\n    if (newVal === oldVal) {\n      return\n    }\n\n    this.data = newVal\n\n    if (watcher) {   \n      utils.nextFrame(() => watcher(newVal, oldVal));        \n    }\n  }\n}","export default class Descriptor {\n  constructor(value, watcher, setable) {\n    this.watchers = watcher ? [watcher] : [];\n    this.setable = setable === undefined ? true : setable;\n\n    if (typeof value === 'function') {\n      this.computer = value;\n      this.value = null\n    } else {\n      this.value = value;\n    }\n\n    return {\n      get: () => {\n        if (this.computer) {\n          this.value = this.computer.apply(this)\n        }\n        return this.value;\n      },\n      set: (value) => {\n        if (this.setable) {\n          if (this.value === value) return\n          \n          if (typeof this.computer === 'function') {\n            this.value = this.computer.apply(this, [value])\n          } else {\n            this.value = value;\n          }\n          this.update();\n        }\n      },\n      addWatcher: (fn) => {\n        this.watchers.push(fn)\n      },\n      writeable: true,\n      enumerable: true,\n      configurable: false\n    }\n  }\n\n  update () {\n    this.watchers.forEach((watcher) => {\n      watcher.apply(null, [this.value])\n    })\n  }\n}","'use strict';\n\nexport default {\n  plugins: null,\n  head: null,\n  vdom: {}\n};","'use strict';\n\nimport Vnode from './vnode';\nimport utils from './utils';\nimport global from './global';\nimport templatePolyfill from 'template-polyfill';\n\nexport default class Symbiotic {\n    constructor (config) {\n        global.data = config.data || {};\n        global.methods = config.methods || {};\n        global.plugins = config.plugins || [];\n    }\n\n    attach (el) {\n        const $scope = utils.getScope(el);\n        global.head = utils.findHead($scope);\n\n        if (!'content' in document.createElement('template')) {\n            this.boostrapTemplates(global.head);\n        } \n\n        ;((cb) => {\n            if (document.readyState !== 'loading') {\n                cb();\n            } else {\n                document.addEventListener('DOMContentLoaded', () => {\n                    cb();   \n                });\n            }\n        })(() => {\n            let t0 = performance.now();\n            let vnode = new Vnode($scope);\n\n            vnode.class = \"changed\"\n\n            utils.init(vnode);\n\n            let t1 = performance.now();\n            console.log('Symbiote attached in ' + (t1 - t0) + ' milliseconds.');\n        });\n    }\n\n    boostrapTemplates (head) {\n        const polyfillStyle = utils.createStyleNode();\n        const polyfillScript = document.createElement('script');\n        polyfillScript.innerText = 'document.createElement(\"template\")';\n        polyfillStyle.innerHTML = 'template { display: none !important};'\n        head.appendChild(polyfillStyle);\n        head.appendChild(polyfillScript);\n        templatePolyfill();\n    }\n}\n\nif (window && window.Symbiotic === undefined) {\n    window.Symbiotic = Symbiotic;\n}","'use strict';\n\nimport utils from './utils';\nimport global from './global';\nimport Observer from './observe';\nimport Data from './data';\nimport TextNode from './textNode';\n\nexport default class Model {\n    constructor ($node) {\n        this.$styleNode = utils.createStyleNode();\n        this.events = {};\n        this.style = {};\n        this.firstChild = null;\n        this.lastChild = null;\n        this.next = null;\n        this.prev = null;\n        this.cloned = {};\n        this.$node = $node;\n        this.id = $node.getAttribute('id') || utils.uid();\n        this.show = true;\n        this.textNodes = [];\n        this.width = $node.offsetWidth;\n        this.height = $node.offsetHeight;\n        this.state = 'start';\n        this.hover = false;\n        this.prevState = '';\n        this.states = {};\n        this.watchers = {};\n\n        global.vdom[this.id] = {\n            tagName: this.tagName,\n            id: this.id,\n            show: this.show,\n            nodeType: $node.nodeType,\n        }\n\n        this.model = {\n            $node: $node,\n            $event: this.$event.bind(this),\n            textNodes: this.textNodes,\n            on: this.on.bind(this),\n            emit: this.emit.bind(this),\n            append: this.append.bind(this),\n            prepend: this.prepend.bind(this),\n            find: this.find.bind(this),\n            findParent: this.findParent.bind(this),\n            // render: this.render.bind(this),\n            plugins: this.plugins.bind(this),\n            extend: this.extend.bind(this),\n            watch: this.watch.bind(this)\n        };\n\n        if (this.id !== $node.getAttribute('id')) {\n            $node.setAttribute('id', this.id);\n        }\n\n        Object.defineProperty(this.model, 'id', {\n            get: () => {\n                return this.id;\n            }\n        });\n\n        if ($node.tagName) {\n            this.tagName = $node.tagName.toLowerCase();\n\n            Object.defineProperty(this.model, 'tagName', {\n                get: () => {\n                    return this.tagName;\n                }\n            });\n        }\n\n        if (this.tagName === 'template') {\n            this.$template = utils.getTemplateNode($node);\n            this.model.$template = this.$template;\n        }\n\n        \n        Object.defineProperty(this.model, 'show', {\n            get: () => {\n                return this.show;\n            },\n            set: (val) => {\n                if (val) {\n                    if ($node.style.removeProperty) {\n                        $node.style.removeProperty('display');\n                    } else {\n                        $node.style.removeAttribute('display');\n                    }\n                } else {\n                    $node.style.display = 'none'\n                }\n                this.show = val;\n            }\n        });\n\n        Object.defineProperty(this.model, 'prev', {\n            get: () => {\n                return this.prev;\n            },\n            set: (val) => {\n                this.prev = val;\n                return this.prev;\n            }\n        });\n\n        Object.defineProperty(this.model, 'next', {\n            get: () => {\n                return this.next;\n            },\n            set: (val) => {\n                this.next = val;\n                return this.next;\n            }\n        });\n\n        Object.defineProperty(this.model, 'child', {\n            get: () => {\n                return this.firstChild;\n            },\n            set: (val) => {\n                this.firstChild = val;\n                return this.firstChild;\n            }\n        });\n\n        Object.defineProperty(this.model, 'parent', {\n            get: () => {\n                return this.parent;\n            },\n            set: (val) => {\n                this.parent = val\n                return this.parent;\n            }\n        });\n\n        Object.defineProperty(this.model, 'states', {\n            get: () => {\n                return this.states\n            },\n            set: states => {\n                this.states = states\n                this.updateState()\n            }\n        })\n\n        Object.defineProperty(this.model, 'state', {\n            get: () => {\n                return this.state\n            },\n            set: state => {\n                if (this.state !== state) {\n                    this.state = state\n                    this.updateState()\n                }\n            }\n        })\n\n        Object.defineProperty(this.model, 'style', {\n            get: () => {\n                this.updateStyles(this.style, this.$styleNode, this.id);\n                return this.style;\n            },\n            set: (val) => {\n                Object.assign(this.style, val);\n                this.updateStyles(this.style, this.$styleNode, this.id);\n                return this.style;\n            }\n        });\n\n        if ($node.tagName === 'input') {\n            Object.defineProperty(this.model, 'value', {\n                get: () => {\n                    return this.$node.value\n                },\n                set: (val) => {\n                    this.$node.value = val;\n                }\n            })\n        }\n\n        this.$node.addEventListener('mouseover', () => {\n            this.updateState('hover')\n        })\n\n        this.$node.addEventListener('mouseout', () => {\n            this.updateState()\n        })\n\n        utils.check($node.attributes, (attributes) => utils.loop(attributes, (attribute) => {\n            let attrName = utils.dashToCamelCase(attribute.nodeName);\n            let $attrValue = attribute.nodeValue;\n    \n            if (!this[attrName] && attrName !== 'id' && attrName !== 'for') {\n                this[attrName] = $attrValue;\n                global.vdom[this.id][attrName] = $attrValue;\n\n                if (~$attrValue.indexOf('${')) {\n                    $attrValue.replace(utils.mustacheRegex, (match, variable) => {\n\n                        var refs = variable.split('.');\n\n                        (function loop (obj, store, refs, index) {\n                            let key = refs[index];\n                            if (index < refs.length - 1) {\n                                obj[key] = {};\n                                store[key] = {};\n                                index++\n                                loop(obj[key], store[key], refs, index)\n                            } else {\n                                store[key] = $attrValue;\n                                Object.defineProperty(obj, key, {\n                                    get: () => {\n                                        return store[key]\n                                    },\n                                    set: (val) => {\n                                        ;(utils.debounce(($node) => {\n                                            $node.setAttribute(utils.camelCaseToDash(attrName), store[key].replace(match, val));\n                                        }))($node)\n                                    }\n                                })\n                            }\n                        })(this.model, this, refs, 0)\n                    });\n                } else {\n                    Object.defineProperty(this.model, attrName, {\n                        get: () => {\n                            return this[attrName]\n                        },\n                        set: (val) => {\n                            if (this[attrName] !== val) {\n                                this[attrName] = val;\n\n                                ;(utils.debounce(($node) => {\n                                    $node.setAttribute(utils.camelCaseToDash(attrName), this[attrName]);\n                                }))($node);\n                            }\n                        }\n                    });\n                }\n            }\n        }));\n\n        utils.check($node.childNodes, ($children) => utils.loop($children, ($child) => {\n            if ($child.nodeType === 1) {\n                let child = new Model($child);\n                child.parent = this.model;\n    \n                if (!this.lastChild) {\n                    this.firstChild = child;\n                    this.model.child = child;\n                    global.vdom[this.id].child = child.id;\n                } else {\n                    this.lastChild.next = child;\n                    child.prev = this.lastChild;\n                    global.vdom[this.lastChild.id].next = child.id;\n                }\n                this.lastChild = child;\n            }\n\n            utils.getTextNode($child, ($textNode) => {\n                this.textNodes.push(new TextNode($textNode, this.model));\n            });            \n        }));\n\n        if ($node.getAttribute('for')) {\n            var list = $node.getAttribute('for').split(' in ');\n            var key = list[0];\n            var data = list[1];\n            this.cloned = {};\n\n            Object.defineProperty(this.model, data, {\n                set: (vals) => {\n                    this[data] = vals;\n                    utils.check(vals, (vals) => {\n                        this.cloneNodes(vals, key)\n                    })\n                },\n                get: () => {\n                    return this[data]\n                }\n            })\n        }\n\n        new ResizeObserver((entries, observer) => {\n            for (const entry of entries) {\n                const { left, top, width, height } = entry.contentRect;\n                console.log(left, top, width, height)\n                this.width = width;\n                this.height = height;\n                this.top = top;\n                this.left = left;\n            }\n        }).observe(this.$node);\n\n        let pos = ['top', 'left', 'width', 'height'];\n\n        pos.forEach((p) => {\n            Object.defineProperty(this.model, p, {\n                get: () => {\n                    return this[p]\n                },\n                set: (val) => {\n                    this.style[p] = val\n                }\n            })\n        })\n\n        if (global.plugins !== null) {\n            this.plugins(global.plugins);\n        }\n                \n        return this.model;\n    }\n\n    $event(event, cb, useCapture) {\n        useCapture = useCapture || false;\n        this.$node.addEventListener(event, (e) => cb.apply(this.model, [e]), useCapture)\n    }\n\n    append ($node, methods) {\n        let node = new Model($node);\n        node.parent = this.model;\n\n        if (!this.firstChild) {\n            this.firstChild = node;\n        }\n\n        if (this.lastChild) {\n            node.prev = this.lastChild;\n            this.lastChild.next = node;\n        }\n        \n        this.lastChild = node;\n\n        (utils.debounce(() => {\n            this.$node.appendChild(node.$node);\n            utils.init(node, methods);\n        }))();\n\n        return node;\n    }\n\n    cloneNodes(vals, key) {\n        utils.debounce(() => {\n            utils.loop(vals, (val, k) => {\n                let $cloned = this.$template.children[0].cloneNode(true);\n                let cloned = this.parent.append($cloned);\n\n                if (cloned.data === key) {\n                    this.cloned[key].extend(val);\n                    this.cloned[key].textNodes.forEach((textNode) => { textNode.update() });\n                }\n\n                cloned.find(key, (node) => {\n                    (function loop(node, data) {\n\n                        utils.loop(data, (v, k) => {\n                            if (k in node) {\n                                if (typeof v !== 'object') {\n                                    node[k] = v\n                                } else {\n                                    loop(node[k], v)\n                                }\n                            } else {\n                                if (typeof node.extend === 'function') {\n                                    node.extend({ [k]: v })\n                                }\n                            }\n                        });\n                    })(node[key], val)\n                })\n            })\n        })();\n    }\n\n    emit (event, payload) {\n        let bubbles = true;\n        payload = payload || this.model;\n\n        if (this.events === undefined) {\n            this.events = {};\n        }\n\n        if (this.events[event]) {\n            for (let i = 0; i < this.events[event].length; i++) {\n                let e = this.events[event][i];\n\n                e.fn(payload);\n                bubbles = !e.bubbles ? e.bubbles : bubbles;\n            }\n        }\n\n        this.updateState(event)\n\n        if (bubbles && this.parent) {\n            this.parent.emit(event, payload);\n        }        \n    }\n\n    extend (data) {\n        const ctx = this\n        ; (function loop(model, data) {\n            utils.check(data, (data) => utils.loop(data, (value, key) => {\n                if (model[key] !== undefined) {\n                    throw 'Key on model cannot be redefined';\n                }\n\n                if (typeof value === 'function') {\n                    let Proxy = new Data(value.bind(model), () => {\n                        return ctx.watchers[key] || null\n                    });\n\n                    Object.defineProperty(model, key, {\n                        get: () => {\n                            return Proxy.get();\n                        },\n                        configurable: true\n                    })\n                } else if (typeof value === 'object') {\n                    model[key] = model[key] || {};\n                    loop(model[key], value)\n                } else {\n                    let Proxy = new Data(value, () => {\n                        return ctx.watchers[key] || null\n                    });\n\n                    Object.defineProperty(model, key, {\n                        get: () => {\n                            return Proxy.get();\n                        },\n                        set: (val) => {\n                            Proxy.set(val)\n                        },\n                        configurable: true\n                    })\n                }\n            }))\n        })(this.model, data);\n    }\n\n    find (attrName, value, cb) {\n        let result = [];\n\n        attrName = utils.dashToCamelCase(attrName);\n\n        (function dig(vnode) {\n            if (vnode) {\n                if (vnode[attrName] !== undefined && typeof value === 'function') {\n                    value(vnode);\n                    result.push(vnode);\n\n                } else if (vnode[attrName] !== undefined && vnode[attrName].split(' ').includes(value)) {\n                    if (typeof cb === 'function') {\n                        cb(vnode);\n                    }\n\n                    result.push(vnode);\n                }\n\n                \n\n                if (vnode.child) {\n                    dig(vnode.child);\n                }\n\n                if (vnode.next) {\n                    dig(vnode.next);\n                }\n            }\n\n        })(this.firstChild);\n\n        return result;\n    }\n\n    findParent (attrName, value, cb) {\n        let result = [];\n        attrName = utils.dashToCamelCase(attrName);\n\n        (function dig(vnode) {\n            if (vnode) {\n                if (vnode[attrName] !== undefined && vnode[attrName].split(' ').includes(value)) {\n                    if (typeof cb === 'function') {\n                        cb(vnode);\n                    }\n\n                    result.push(vnode);\n                }\n\n                if (vnode.parent) {\n                    dig(vnode.parent);\n                }\n            }\n\n        })(this.firstChild);\n\n        return result;\n    }\n\n    on (event, fn) {\n        event = event.split('.');\n        var name = event[0];\n        var bubbles = event[1] !== 'stop';\n\n        if (this.events === undefined) {\n            this.events = {};\n        }\n\n        if (this.events[name] === undefined) {\n            this.events[name] = [];\n        }\n\n        this.events[name].push( {fn: fn, bubbles: bubbles} );\n    }\n\n    plugins(Plugins) {\n        if (!Plugins.length > 0) {\n            return null\n        }\n\n        utils.check(Plugins, () => utils.loop(Plugins, (Plugin) => {\n            this.extend(new Plugin(this))\n        }));\n    }\n\n    prepend($node, methods) {\n        let node = new Model($node);\n        node.parent = this.model;\n\n        if (this.firstChild) {\n            node.next = this.firstChild;\n            this.firstChild.prev = node;\n        }\n\n        this.firstChild = node;\n\n        (utils.debounce(() => {\n            this.$node.prepend(node.$node);\n            utils.init(node, methods);\n        }))();\n\n        return node;\n    }\n\n    render(args) {\n        if (!args.template && this.tagName !== 'template') {\n            return\n        }\n\n        let template = args.template || this.template;\n        let data = args.data || {};\n        let methods = args.methods || global.methods;\n        let refs = template.match(/{{{?(#[a-z ]+ )?[a-z ]+.[a-z ]*}?}}/g);\n        let range = document.createRange();\n\n        utils.check(refs, (refs) => utils.loop(refs, (ref) => {\n            var key = ref.replace(/{{|}}/g, '').trim();\n            var value = utils.stringRef(key, data);\n\n            template = template.replace(ref, value);\n        }))\n\n        let frag = range.createContextualFragment(template);\n\n        return utils.check(frag.children, ($children) => utils.loop($children, ($child) => {\n            if (this.tagName === 'template') {\n                if (this.parent !== undefined) {\n                    return this.parent.append($child, methods)\n                }\n            } else {\n                return this.append($child, methods);\n            }\n\n        }));\n    }\n\n    updateState (event) {\n        event = event || null;\n        let state = null;\n        let next  = null;\n        let ctx = this;\n\n        if (!(this.state in this.states)) {\n            return\n        }\n\n        state = this.states[this.state]\n\n        if (!event) {\n            _update(state)\n            return\n        }\n\n        if (state.on === undefined) {\n            return\n        }\n\n        if (!(event in state.on)) {\n            return\n        }\n\n        if (typeof state.on[event] === 'string') {\n            this.state = state.on[event]\n            next = this.states[this.state]\n        }\n\n        if (typeof state.on[event] === 'object') {\n            next = state.on[event]\n        }\n\n        _update(next)\n\n        function _update (values) {\n            utils.loop(values, (value, key) => {\n                if (key !== 'on') {\n                    if (typeof value === 'function') {\n                        ctx.model[key] = value(global.vdom[ctx.id][key])\n                    } else {\n                        ctx.model[key] = value\n                    }\n                }\n            })\n        }\n    }\n\n    updateStyles() {\n        (utils.debounce(() => {\n            if (!utils.check(this.style)) {\n                this.$styleNode.innerHTML = ''\n                return\n            }\n\n            var styleString = `#${this.id}{`;\n\n            utils.loop(this.style, function (value, prop) {\n                styleString += `${utils.camelCaseToDash(prop)}:${value};`;\n            })\n\n            styleString += '}';\n\n            if (this.$styleNode.parentNode === null) {\n                global.head.appendChild(this.$styleNode);\n            }\n\n            this.$styleNode.innerHTML = styleString;\n        }))();\n    }\n\n    updateTextNodes (vals, key) {\n        (utils.debounce(() => {\n            utils.loop(vals, (val, k) => {\n                if (this.cloned[k] === undefined) {\n                    let $clonedNode = this.$node.content.children[0].cloneNode(true);\n                    this.cloned[k] = this.parent.append($clonedNode);\n                }\n\n                if (this.cloned[k].data && this.cloned[k].data === key) {\n                    this.cloned[k][key] = val\n\n                    this.cloned[k].textNodes.forEach((textNode) => {\n                        textNode.update();\n                    })\n                }\n\n                this.cloned[k].find('data', key, (found) => {\n                    found[key] = val\n\n                    found.textNodes.forEach((textNode) => {\n                        textNode.update()\n                    })\n                })\n            })\n        }))();\n    }\n\n    watch(watchers) {\n        Object.assign(this.watchers, watchers);\n    }\n}","'use strict';\n\nexport default class {\n\tconstructor (object, watchers) {\n\t\tconst context = this;\n\t\tcontext.watchers = watchers || [];\n\n\t\tconst handler = {\n\t\t\tget(target, property, receiver) {\n\t\t\t\ttry {\n\t\t\t\t\treturn new Proxy(target[property], handler);\n\t\t\t\t} catch (err) {\n\t\t\t\t\treturn Reflect.get(target, property, receiver);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdefineProperty(target, property, descriptor) {\n\t\t\t\tcontext.watchers.forEach(watcher => {\n\t\t\t\t\twatcher.call(null, target, property, descriptor)\n\t\t\t\t});\n\t\t\t\treturn Reflect.defineProperty(target, property, descriptor);\n\t\t\t},\n\t\t\tdeleteProperty(target, property) {\n\t\t\t\tcontext.watchers.forEach(watcher => {\n\t\t\t\t\twatcher.call(null, target, property, descriptor)\n\t\t\t\t});\n\t\t\t\treturn Reflect.deleteProperty(target, property);\n\t\t\t}\n\t\t};\n\t\n\t\treturn new Proxy(object, handler);\n\t}\n}\t","import utils from './utils';\n\nexport default class {\n  constructor ($node, model) {\n    const ctx = this;\n    this.$node = $node;\n    this.originalContent = $node.textContent;\n    this.model = model;\n    this.data = {};\n\n    this.replace((variable) => {\n      (function loop(model, refs, index) {\n        let key = refs[index];\n        if (index < refs.length - 1) {\n          model[key] = {};\n          index++\n          loop(model[key], refs, index)\n        } else {\n          Object.defineProperty(model, key, {\n            get: () => {\n              return ctx.data\n            },\n            set: (val) => {\n              ctx.data = val\n              ;(utils.debounce(() => {\n                ctx.update()\n              }))();\n            },\n            configurable: true\n          })\n        }\n      })(this.model, variable.split('.'), 0)\n\n      return utils.stringRef(variable, model);\n    })  \n  }\n\n  replace (cb) {\n    this.$node.textContent = this.originalContent.replace(utils.mustacheRegex, (match, variable) => {\n      return cb(variable);\n    });\n  }\n\n  update () {\n    this.replace((variable) => {\n      return utils.stringRef(variable, this.model);\n    })\n  }\n}","'use strict';\n\nimport Model from './model';\nimport global from './global';\n\nexport default {\n    id: 0,\n    prefix: 'vnom-',\n    mustacheRegex: /\\${\\s*([\\w\\.]+)\\s*}/g,\n    camelCaseToDash: function (myStr) {\n        return myStr.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    },\n    dashToCamelCase: function (myString) {\n        return myString.replace(/-([a-z])/g, function (g) {\n            return g[1].toUpperCase();\n        });\n    },\n    createStyleNode: function () {\n        let styleNode = document.createElement('style');\n\n        styleNode.type = 'text/css';\n\n        return styleNode;\n    },\n    uid: function () {\n        return this.prefix + this.id++;\n    },\n    debounce: function (func) {\n        var frame = null;\n\n        return function executedFunction() {\n            let context = this;\n            let args = arguments;\n\n            if (frame !== null) window.cancelAnimationFrame(frame);\n\n            frame = window.requestAnimationFrame(() => {\n                func.apply(context, args);\n            })\n        }\n    },\n    nextFrame: function (fn) {\n        var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n            window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n        requestAnimationFrame(() => {\n            fn()\n        });\n    },\n    isNode: function (o) {\n        return typeof Node === \"object\" ? o instanceof Node : o && typeof o === \"object\" && typeof o.nodeType === \"number\" && typeof o.nodeName===\"string\"\n    },\n    check (item, cb) {\n        if (item === null) {\n            return false\n        }\n        \n        if (item === undefined) {\n            return false\n        }\n\n        switch (typeof item) {\n            case 'array':\n                if (item.length === 0) {\n                    return false\n                }\n                break;\n            case 'object':\n                if (!this.isNode(item)) {\n                    if (Object.keys(item).length === 0) {\n                        return false\n                    }\n                }\n                break;\n            case 'string':\n                if (item === '') {\n                    return false\n                }\n                break;\n        }\n\n        if (typeof cb === 'function') {\n            return cb.apply(null, [item]);\n        }\n\n        return true;\n    },\n    loop (object, cb) {\n        let length = object.length;\n        let result = [];\n\n        if (length > 0) {\n            for (let i=0; i < length; i++) {\n                let res = cb.apply(null, [object[i], i, length]);\n                if (res) {\n                    result.push(res)\n                }\n            }\n        } else {\n            for (let key in object) {\n                let res = cb.apply(null, [object[key], key]);\n                if (res) {\n                    result.push();\n                }\n            }\n        }\n        return result;\n    },\n    getTextNode ($child, cb) {\n        if ($child.nodeType === 3) {\n            if ($child.nodeValue.trim().length > 0 ) {\n                return cb($child)\n            }\n        }\n    },\n    getTemplateNode ($node, cb) {\n        if ($node.tagName === 'TEMPLATE') {\n            if (typeof cb === 'function') {\n                return cb.apply(null, [$node.content]);\n            }\n            return $node.content;\n        }\n     },\n    stringRef (ref, object) {\n        return ref.split('.').reduce((object,i) => {\n            if (object) {\n                if (object[i]) {\n                    return object[i]\n                } else {\n                    return null\n                }\n            }\n        }, object);\n    },\n    init (vnom, methods) {\n        methods = methods || global.methods;\n\n        if (typeof methods === 'function') {\n            methods.apply(vnom);\n            return\n        }\n\n        for (let method in methods) {\n            let attribute = '';\n            let attributeValue = '';\n\n            switch (method.charAt(0)) {\n                case '.':\n                    attribute = 'class';\n                    attributeValue = method.substring(1);\n                    break;\n                case '#':\n                    attribute = 'id';\n                    attributeValue = method.substring(1);\n                    break;\n                default:\n                    attribute = 'tagName'\n                    attributeValue = method;\n            }\n\n            if (vnom[attribute]) {\n                if (vnom[attribute].split(' ').indexOf(attributeValue) > -1) {\n\n                    if (!vnom.methods) {\n                        vnom.methods = {};\n                    }\n\n                    if (vnom.methods[method] === undefined) {\n                        vnom.methods[method] = methods[method].bind(vnom);\n                    }\n                }\n            }\n        }\n\n        if (vnom.firstChild) {\n            this.init(vnom.firstChild, methods)\n        }\n\n        if (vnom.next) {\n            this.init(vnom.next, methods)\n        }\n\n        for (let method in vnom.methods) {\n            try {\n                (vnom.methods[method])();\n            } catch (error) {\n                console.error(error.stack);\n            }\n        }\n    },\n    getScope (el) {\n        if (el === undefined) {\n            return document.body || document.querySelector('body');\n        }\n    \n        switch (typeof el) {\n            case 'string':\n                return document.querySelector(el);\n            case 'object':\n                return el;            \n        }\n    },\n    findHead ($node) {     \n        if ($node.tagName === 'HTML') {\n            return $node.querySelector('head')\n        } else {\n            return this.findHead($node.parentNode);\n        }\n    }\n};","import Vnom from './vnom';\nimport Utils from './utils';\nimport TextNode from './textNode';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport Descriptor from './descriptor';\n\n\nexport default class Vnode {\n  constructor($node) {\n    const vnom = new Vnom($node);\n\n    this._vnom = vnom\n\n    Utils.check($node.childNodes, ($children) => Utils.loop($children, ($child) => {\n      if ($child.nodeType === 1) {\n        let child = new Vnode($child);\n        child.parent = this;\n\n        if (vnom.lastChild.get()) {\n          vnom.lastChild.get().next = child;\n          child.prev = vnom.lastChild.get();\n        } else {\n          vnom.firstChild.set(child);\n        }\n\n        vnom.lastChild.set(child)\n      }\n    }));\n\n    Object.defineProperties(this, vnom);\n  }\n\n  $event (event, cb, useCapture) {\n    useCapture = useCapture || false;\n    this.$node.addEventListener(event, (e) => cb.apply(this, [e]), useCapture)\n  }\n\n  append ($node, methods) {\n    let node = new Vnode($node);\n    node.parent = this;\n\n    if (!this.firstChild) {\n      this.firstChild = node;\n    }\n\n    if (this.lastChild) {\n      node.prev = this.lastChild;\n      this.lastChild.next = node;\n    }\n\n    this.lastChild = node;\n\n    Utils.nextFrame(() => {\n      this.$node.appendChild(node.$node);\n      Utils.init(node, methods);\n    });\n\n    return node;\n  }\n\n  extend(data) {\n    ;(function loop(ctx, data) {\n      Utils.check(data, (data) => Utils.loop(data, (value, key) => {\n        if (key in ctx) {\n          if (typeof value === 'function') {\n            ctx[key] = value();\n          } else if (typeof value === 'array') {\n            ctx[key] = value;\n          } else if (typeof value === 'object') {\n            \n          } else {\n            ctx[key] = value;\n          }\n        } else if (typeof value === 'function') {\n          Object.defineProperty(ctx, key, new Descriptor(value));\n        } else if (typeof value === 'object') {\n          if ('value' in value) {\n            if ('watcher' in value) {\n              Object.defineProperty(ctx, key, new Descriptor(value.value, value.watcher))\n            } else {\n              Object.defineProperty(ctx, key, new Descriptor(value.value))\n            }\n          } else {\n            ctx[key] = {};\n            loop(ctx[key], value)\n          }\n        } else {\n          Object.defineProperty(ctx, key, new Descriptor(value));\n        }\n      }))\n    })(this, data);\n  }\n}","import Descriptor from './descriptor';\nimport Global from './global';\nimport Utils from './utils';\nimport Vtext from './vtext'\nimport Vstyle from './vstyle'\nimport ResizeObserver from 'resize-observer-polyfill';\n\nexport default class Vnom {\n  constructor($node) {\n    const props = {};\n    const id = $node.getAttribute('id') || Utils.uid();\n\n    props.$node = new Descriptor($node);\n    props.id = new Descriptor(id);\n    props.tagName = new Descriptor($node.tagName.toLowerCase())\n    props.parent = new Descriptor(null);\n    props.firstChild = new Descriptor(null);\n    props.lastChild = new Descriptor(null);\n    props.next = new Descriptor(null);\n    props.prev = new Descriptor(null);\n\n    if ($node.getAttribute('id') !== id) {\n      $node.setAttribute('id', id);\n    }\n\n    props.show = new Descriptor(\n      $node.style.display !== 'none',\n      function (show) {\n        if (show) {\n          if ($node.style.removeProperty) {\n            $node.style.removeProperty('display');\n          } else {\n            $node.style.removeAttribute('display');\n          }\n        } else {\n          $node.style.display = 'none'\n        }\n      }\n    )\n\n    props.style = new Vstyle(id, $node)\n\n    props.class = new Descriptor(\n      $node.getAttribute('class'),\n      function (classList) {\n        Utils.nextFrame(() => $node.setAttribute('class', classList));\n      }\n    );\n\n    Utils.check($node.attributes, (attributes) => Utils.loop(attributes, (attribute) => {\n      let attrName = Utils.dashToCamelCase(attribute.nodeName);\n      let $attrValue = attribute.nodeValue;\n\n      if (!props[attrName] && attrName !== 'id' && attrName !== 'for') {\n        props[attrName] = new Descriptor($attrValue, function (attrValue) {\n          Utils.nextFrame(() => $node.setAttribute(Utils.camelCaseToDash(attrName), attrValue));\n        })\n      }\n    }))\n\n    Utils.check($node.childNodes, ($children) => Utils.loop($children, ($child) => {\n      if ($child.nodeType === 3) {\n        if ($child.nodeValue.trim().length > 0) {\n          if ($child.nodeValue.match(Utils.mustacheRegex)) {\n            Object.assign(props, new Vtext($child))\n          }\n        }\n      }\n    }));\n\n    return props\n  }\n}","import Utils from './utils';\nimport Descriptor from './descriptor';\nimport Global from './global';\n\nexport default class {\n  constructor (id) {\n    const $styleNode = Utils.createStyleNode();\n    const updateStyles = Utils.debounce(function (styles) {\n      updateStyleNode(styles)\n    })\n\n    const style = new Descriptor(\n      function (values) {\n        if (!values) {\n          updateStyles(this.value);\n          return this.value || {};\n        }\n\n        return values\n      },\n      function (vals) {\n        Utils.nextFrame(() => updateStyleNode(vals))\n      }\n    )\n\n    function updateStyleNode (styles) {\n      if (!Utils.check(styles)) {\n        $styleNode.innerHTML = ''\n        return\n      }\n\n      var styleString = `#${id}{`;\n\n      Utils.loop(styles, function (value, prop) {\n        styleString += `${Utils.camelCaseToDash(prop)}:${value};`;\n      })\n\n      styleString += '}';\n\n      if ($styleNode.parentNode === null) {\n        Global.head.appendChild($styleNode);\n      }\n\n      $styleNode.innerHTML = styleString;\n    }\n\n    return style\n  }\n}","import Utils from './utils';\nimport Descriptor from './descriptor';\n\nexport default class {\n  constructor($node) {\n    const $originalContent = $node.nodeValue;\n    const refs = $originalContent.match(Utils.mustacheRegex).map((match) => {return match.match(/[\\w\\.]+/)[0]})\n\n    const props = {};\n\n    update($node, $originalContent, props);\n\n    console.log(refs)\n\n    Utils.loop(refs, (ref) => {\n      (function loop (object, array, index) {\n        let key = array[index];\n        let length = array.length;\n\n        if (key in object) {\n          index++;\n\n          if (index < length) {\n            if (typeof object[key].get === 'function') {\n              loop(object[key].get(), array, index);\n            } else {\n              loop(object[key], array, index);\n            }\n          }\n        } else {\n          if (index === 0) {\n            object[key] = new Descriptor(\n              function (val) {\n                if (!val) {\n                  return this.value || {};\n                }\n                return val\n              },\n              function (val) {\n                update($node, $originalContent, props);\n              }\n            );\n            index++;\n            if (index < length) {\n              if (typeof object[key].get === 'function') {\n                loop(object[key].get(), array, index);\n              } else {\n                loop(object[key], array, index);\n              }\n            }\n          } else {\n            Object.defineProperty(object, key, new Descriptor(\n              function (val) {\n                if (!val) {\n                  return this.value || {};\n                } else {\n                  if (typeof val === 'function') {\n\n                  } else if (typeof val === 'object') {\n                    for (let k in val) {\n                      if (k in object[key]) {\n                        object[key][k] = val[k]\n                      }\n                    }\n                  } else {\n                    update($node, $originalContent, props);\n                  }\n                  return val\n                }\n              },\n              function (val) {\n                update($node, $originalContent, props);\n              }\n            ))\n            index++;\n            if (index < length) {\n              if (typeof object[key].get === 'function') {\n                loop(object[key].get(), array, index);\n              } else {\n                loop(object[key], array, index);\n              }\n            }\n          }\n        }\n      })(props, ref.split('.'), 0);\n    });\n\n    function update($node, $originalContent, object) {\n      replace($node, $originalContent, object, (variable, object) => {\n        return variable.split('.').reduce((object, k) => {\n          if (object && object[k]) {\n            if (typeof object[k].get === 'function') {\n              return object[k].get();\n            } else {\n              return object[k];\n            }\n          } else {\n            return '';\n          }\n        }, object);\n      })\n    }\n\n    function replace($node, $originalContent, object, cb) {\n      $node.textContent = $originalContent.replace(Utils.mustacheRegex, (match, variable) => {\n        return cb(variable, object);\n      });\n    }\n\n    return props\n  }\n}"],"sourceRoot":""}