{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/model.js","webpack:///./src/utils.js"],"names":["getScope","el","undefined","document","body","querySelector","Symbiote","constructor","methods","attach","attribute","$scope","utils","dashToCamelCase","cb","readyState","init","addEventListener","vnom","split","filter","method","Object","keys","indexOf","map","index","array","bind","length","error","console","stack","child","next","window","Model","$node","model","attributes","i","attrName","nodeName","$attrValue","nodeValue","defineProperty","get","set","val","debounce","setAttribute","camelCaseToDash","childNodes","lastChild","$child","parent","nodeType","prev","id","prefix","myStr","replace","toLowerCase","myString","g","toUpperCase","createStyleNode","styleNode","createElement","type","uid","func","frame","executedFunction","context","args","arguments","cancelAnimationFrame","requestAnimationFrame","apply"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import Model from './model';\nimport utils from './utils';\n\nfunction getScope (el) {\n    if (el === undefined) {\n        return document.body || document.querySelector('body');\n    }\n\n    switch (typeof el) {\n        case 'string':\n            return document.querySelector(el);\n        case 'object':\n            return el;            \n    }\n}\n\nexport default class Symbiote {\n    constructor (methods) {\n        this.methods = methods;\n    }\n\n    attach (el, attribute) {    \n        const $scope = getScope(el);\n        this.attribute = attribute ? utils.dashToCamelCase(attribute) : 'class';\n\n        ((cb) => {\n            if (document.readyState !== 'loading') {\n                this.init(cb());\n            } else {\n                document.addEventListener('DOMContentLoaded', () => {\n                    this.init(cb());\n                });\n            }\n        })(() => new Model($scope));\n    }\n\n    init (vnom) {\n        if (vnom[this.attribute]) {\n            vnom[this.attribute].split(' ').filter((method) => {\n                return Object.keys(this.methods).indexOf(method) > -1;\n            }).map((method, index, array) => {\n                if (!vnom.methods) {\n                    vnom.methods = {};\n                }\n\n                vnom.methods[method] = this.methods[method].bind(vnom);\n\n                if (index === array.length - 1) {\n                    for (let method in vnom.methods) {\n                        try {\n                            (vnom.methods[method])()\n                        } catch (error) {\n                            console.error(error.stack);\n                        }\n                    }\n                }\n            })\n        }\n\n        if (vnom.child) {\n            this.init(vnom.child)\n        }\n\n        if (vnom.next) {\n            this.init(vnom.next)\n        }\n    }\n}\n\nif (window && window.Symbiote === undefined) {\n    window.Symbiote = Symbiote;\n}","import utils from './utils';\n\nexport default class Model {\n    constructor ($node) {\n        const model = {\n            $node: $node\n        };\n\n        if ($node.attributes) {\n            for (let i = 0; i < $node.attributes.length; i++) {\n                let attrName = utils.dashToCamelCase($node.attributes[i].nodeName);\n                let $attrValue = $node.attributes[i].nodeValue;\n\n                this[attrName] = $attrValue;\n\n                Object.defineProperty(model, attrName, {\n                    get: () => {\n                        return this[attrName]\n                    },\n                    set: (val) => {\n                        if (this[attrName] !== val) {                            \n                            ;(utils.debounce(($node) => {\n                                this[attrName] = val;\n                                $node.setAttribute(utils.camelCaseToDash(attrName), this[attrName]);\n                            }))($node);\n                        }\n                        return this[attrName]\n                    }\n                })\n            }\n        } \n\n        if ($node.childNodes) {\n            var lastChild = null;\n\n            for (let i = 0; i < $node.childNodes.length; i++) {\n                let $child = $node.childNodes[i];\n                let child = new Model($child);\n                child.parent = model;\n\n                if ($child.nodeType === 1) {\n                    if (!lastChild) {\n                        model.child = child;\n                    } else {\n                        lastChild.next = child;\n                        child.prev = lastChild;\n                    }\n                    lastChild = child;\n                }\n            }\n        }\n\n        return model;\n    }\n}","export default {\n    id: 0,\n    prefix: 'Layer_',\n    camelCaseToDash: function (myStr) {\n        return myStr.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    },\n    dashToCamelCase: function (myString) {\n        return myString.replace(/-([a-z])/g, function (g) {\n            return g[1].toUpperCase();\n        });\n    },\n    createStyleNode: function () {\n        let styleNode = document.createElement('style');\n\n        styleNode.type = 'text/css';\n\n        return styleNode;\n    },\n    uid: function () {\n        return this.prefix + this.id++;\n    },\n    debounce: function (func) {\n        var frame = null;\n\n        return function executedFunction() {\n            let context = this;\n            let args = arguments;\n\n            if (frame !== null) cancelAnimationFrame(frame);\n\n            frame = requestAnimationFrame(() => {\n                func.apply(context, args);\n            })\n        }\n    }\n};"],"sourceRoot":""}